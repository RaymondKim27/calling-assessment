<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>소명 발견 자가진단 - 나만의 소명을 찾아보세요</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 400px;
            width: 100%;
            max-width: 600px;
        }
        .question-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        .question-card.fade-in {
            animation: fadeInUp 0.5s ease-out;
        }
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .option-card {
            transition: all 0.2s ease;
        }
        .option-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .option-card.selected {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-color: #f59e0b;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);
        }
        .progress-bar {
            transition: width 0.3s ease;
        }
        .result-card {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border: 2px solid #f59e0b;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-amber-50 to-orange-50 min-h-screen">
    
    <header class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="text-center">
                <h1 class="text-2xl md:text-3xl font-bold text-amber-900">소명 발견 자가진단</h1>
                <p class="text-amber-700 mt-2">하나님이 주신 나만의 소명을 찾아보세요</p>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-4xl">
        
        <!-- 시작 화면 -->
        <div id="intro-screen" class="text-center">
            <div class="bg-white rounded-2xl shadow-lg p-8 md:p-12 mb-8">
                <div class="mb-8">
                    <div class="w-20 h-20 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full mx-auto mb-6 flex items-center justify-center">
                        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">나만의 소명을 발견해보세요</h2>
                    <p class="text-gray-600 text-lg leading-relaxed max-w-2xl mx-auto">
                        소명은 거창한 것이 아닙니다. 하나님이 당신에게 주신 고유한 관심사, 재능, 가치관을 통해 
                        세상에 선한 영향을 미치는 것입니다. 15개의 질문을 통해 당신의 소명 유형을 발견해보세요.
                    </p>
                </div>
                
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="text-center p-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                            <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-800">관심사</h3>
                        <p class="text-sm text-gray-600">무엇에 마음이 끌리나요?</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="w-12 h-12 bg-green-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                            <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-800">재능</h3>
                        <p class="text-sm text-gray-600">무엇을 잘하나요?</p>
                    </div>
                    <div class="text-center p-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg mx-auto mb-3 flex items-center justify-center">
                            <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="font-semibold text-gray-800">가치관</h3>
                        <p class="text-sm text-gray-600">무엇이 중요한가요?</p>
                    </div>
                </div>
                
                <button id="start-btn" class="bg-gradient-to-r from-amber-500 to-orange-500 text-white px-8 py-4 rounded-xl font-semibold text-lg hover:from-amber-600 hover:to-orange-600 transition-all duration-200 transform hover:scale-105 shadow-lg">
                    진단 시작하기
                </button>
            </div>
        </div>

        <!-- 진단 화면 -->
        <div id="quiz-screen" class="hidden">
            <!-- 진행률 표시 -->
            <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-sm font-medium text-gray-600">진행률</span>
                    <span id="progress-text" class="text-sm font-medium text-amber-600">1 / 15</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div id="progress-bar" class="progress-bar bg-gradient-to-r from-amber-500 to-orange-500 h-2 rounded-full" style="width: 6.67%"></div>
                </div>
            </div>

            <!-- 질문 카드 -->
            <div id="question-card" class="question-card bg-white rounded-2xl shadow-lg p-8 mb-6">
                <div class="mb-6">
                    <span id="question-category" class="inline-block bg-amber-100 text-amber-800 text-sm font-medium px-3 py-1 rounded-full mb-4"></span>
                    <h3 id="question-text" class="text-xl md:text-2xl font-bold text-gray-800 leading-relaxed"></h3>
                </div>
                <div id="options-container" class="space-y-4">
                    <!-- 옵션들이 여기에 동적으로 생성됩니다 -->
                </div>
            </div>

            <!-- 네비게이션 버튼 -->
            <div class="flex justify-between items-center">
                <button id="prev-btn" class="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    이전
                </button>
                <button id="next-btn" class="bg-gradient-to-r from-amber-500 to-orange-500 text-white px-6 py-3 rounded-lg font-medium hover:from-amber-600 hover:to-orange-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                    다음
                </button>
            </div>
        </div>

        <!-- 결과 화면 -->
        <div id="result-screen" class="hidden">
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-6">
                <div class="text-center mb-8">
                    <div class="w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full mx-auto mb-4 flex items-center justify-center">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">진단 완료!</h2>
                    <p class="text-gray-600">당신의 소명 유형을 확인해보세요</p>
                </div>

                <!-- 결과 차트 -->
                <div class="chart-container mb-8">
                    <canvas id="result-chart"></canvas>
                </div>

                <!-- 결과 해석 -->
                <div id="result-interpretation" class="result-card rounded-xl p-6 mb-6">
                    <h3 class="text-xl font-bold text-amber-900 mb-3">당신의 소명 유형</h3>
                    <p id="result-description" class="text-gray-700 leading-relaxed mb-4"></p>
                    <div id="result-recommendations" class="space-y-2">
                        <!-- 추천사항들이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>

                <!-- 개인정보 수집 동의 및 결과 저장 -->
                <div class="bg-gray-50 rounded-xl p-6 mb-6">
                    <h4 class="font-semibold text-gray-800 mb-4">결과를 저장하고 더 나은 서비스를 위해 도움을 주세요 (선택사항)</h4>
                    <div class="space-y-4">
                        <div>
                            <label class="flex items-center">
                                <input type="checkbox" id="consent-checkbox" class="rounded border-gray-300 text-amber-500 focus:ring-amber-500">
                                <span class="ml-2 text-sm text-gray-600">진단 결과를 익명으로 저장하여 서비스 개선에 활용하는 것에 동의합니다.</span>
                            </label>
                        </div>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">나이 (선택)</label>
                                <select id="age-select" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500">
                                    <option value="">선택하지 않음</option>
                                    <option value="10s">10대</option>
                                    <option value="20s">20대</option>
                                    <option value="30s">30대</option>
                                    <option value="40s">40대</option>
                                    <option value="50s">50대 이상</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">직업 상태 (선택)</label>
                                <select id="job-status-select" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-amber-500 focus:border-amber-500">
                                    <option value="">선택하지 않음</option>
                                    <option value="student">학생</option>
                                    <option value="job-seeker">취업준비생</option>
                                    <option value="employee">직장인</option>
                                    <option value="entrepreneur">창업가/사업가</option>
                                    <option value="other">기타</option>
                                </select>
                            </div>
                        </div>
                        <button id="save-result-btn" class="w-full bg-amber-500 text-white py-2 rounded-lg hover:bg-amber-600 transition-colors disabled:opacity-50">
                            결과 저장하기
                        </button>
                    </div>
                </div>

                <!-- 액션 버튼들 -->
                <div class="flex flex-col sm:flex-row gap-4">
                    <button id="restart-btn" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-medium hover:bg-gray-300 transition-colors">
                        다시 진단하기
                    </button>
                    <button id="share-btn" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 rounded-lg font-medium hover:from-blue-600 hover:to-blue-700 transition-all">
                        결과 공유하기
                    </button>
                    <a href="https://brunch.co.kr" target="_blank" class="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white py-3 rounded-lg font-medium hover:from-green-600 hover:to-green-700 transition-all text-center">
                        브런치에서 더 보기
                    </a>
                </div>
            </div>
        </div>

    </main>

    <!-- 학술적 근거 및 출처 섹션 -->
    <section class="bg-gray-50 border-t border-gray-200 mt-16">
        <div class="container mx-auto px-4 py-12 max-w-4xl">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">학술적 근거 및 출처</h2>
                <p class="text-gray-600">이 진단 도구는 다음과 같은 학술적 연구와 이론을 바탕으로 개발되었습니다.</p>
            </div>

            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- 이론적 배경 -->
                <div class="bg-white rounded-lg p-6 shadow-sm">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                        <svg class="w-5 h-5 text-blue-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                        </svg>
                        이론적 배경
                    </h3>
                    <ul class="space-y-3 text-sm text-gray-600">
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span><strong>마르틴 루터의 직업소명론 (Beruf)</strong><br>
                            모든 정당한 직업이 하나님의 부르심이라는 개념</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span><strong>리 하디(Lee Hardy)의 소명 이론</strong><br>
                            『직업과 소명에 대한 기독교적 관점』의 현대적 해석</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span><strong>현대 조직심리학 연구</strong><br>
                            일의 의미와 소명 의식에 관한 실증 연구</span>
                        </li>
                    </ul>
                </div>

                <!-- 진단 모델 -->
                <div class="bg-white rounded-lg p-6 shadow-sm">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                        <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                        진단 모델
                    </h3>
                    <ul class="space-y-3 text-sm text-gray-600">
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span><strong>3차원 소명 모델</strong><br>
                            관심사(Interest) × 재능(Talent) × 가치관(Values)</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span><strong>4가지 소명 유형 분류</strong><br>
                            지혜추구형, 창조실현형, 사랑실천형, 질서구축형</span>
                        </li>
                        <li class="flex items-start">
                            <div class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                            <span><strong>대기업 HR 현장 경험</strong><br>
                            10년간의 인사관리 및 조직심리 연구 경험 반영</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- 참고문헌 -->
            <div class="bg-white rounded-lg p-6 shadow-sm">
                <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                    <svg class="w-5 h-5 text-purple-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                    </svg>
                    주요 참고문헌
                </h3>
                <div class="grid md:grid-cols-2 gap-4 text-sm text-gray-600">
                    <div class="space-y-2">
                        <p><strong>국외 문헌</strong></p>
                        <ul class="space-y-1 ml-4">
                            <li>• Hardy, L. (1990). <em>The Fabric of This World: Inquiries into Calling, Career Choice, and the Design of Human Work</em>. Eerdmans.</li>
                            <li>• Dik, B. J., & Duffy, R. D. (2009). Calling and vocation at work. <em>The Counseling Psychologist, 37</em>(3), 424-450.</li>
                            <li>• Wrzesniewski, A. (2003). Finding positive meaning in work. <em>Positive Organizational Scholarship</em>, 296-308.</li>
                        </ul>
                    </div>
                    <div class="space-y-2">
                        <p><strong>국내 연구</strong></p>
                        <ul class="space-y-1 ml-4">
                            <li>• 조용한 사직과 일의 의미상실: 조직이론과 기독교 소명개념의 통합적 고찰 (2024)</li>
                            <li>• 일터신앙: 기독교인의 직업윤리와 소명의식 연구 (2025)</li>
                            <li>• 일과 사랑: 현대 일터신학의 이해 (2025)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- 개발자 정보 -->
            <div class="mt-8 text-center">
                <div class="inline-flex items-center px-4 py-2 bg-amber-50 rounded-lg">
                    <svg class="w-4 h-4 text-amber-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span class="text-sm text-amber-800">
                        <strong>개발 배경:</strong> 대기업 경제/경영연구소 연구원의 10년간 HR 경험과 산업조직심리학 박사 과정 연구를 바탕으로 개발
                    </span>
                </div>
            </div>

            <!-- 면책조항 -->
            <div class="mt-6 p-4 bg-gray-100 rounded-lg">
                <p class="text-xs text-gray-500 text-center leading-relaxed">
                    <strong>면책조항:</strong> 이 진단 도구는 자기 이해를 돕기 위한 참고 자료입니다. 
                    진단 결과가 절대적이지 않으며, 개인의 소명 발견을 위한 하나의 도구로 활용하시기 바랍니다. 
                    더 깊은 상담이나 진로 지도가 필요한 경우 전문가의 도움을 받으시기를 권합니다.
                </p>
            </div>
        </div>
    </section>

    <footer class="bg-white border-t border-gray-200">
        <div class="container mx-auto px-4 py-6 text-center text-gray-500">
            <p>&copy; 2025 소명을 따라 사는 삶. 모든 권리 보유.</p>
            <p class="text-sm mt-2">이 진단 도구는 '소명을 따라 사는 삶: 청년 그리스도인을 위한 일터신앙 가이드'를 기반으로 제작되었습니다.</p>
        </div>
    </footer>

    <script>
        // 진단 데이터
        const quizData = [
            // 관심사 영역 (5문항)
            {
                category: '관심사',
                question: '시간 가는 줄 모르고 몰입하게 되는 활동은 무엇인가요?',
                options: [
                    { text: '새로운 지식을 배우고 탐구하는 것', type: 'intellectual' },
                    { text: '창의적인 아이디어를 현실로 만드는 것', type: 'creative' },
                    { text: '다른 사람을 돕고 긍정적 영향을 주는 것', type: 'relational' },
                    { text: '질서와 체계를 만들고 관리하는 것', type: 'systematic' }
                ]
            },
            {
                category: '관심사',
                question: '어떤 종류의 이야기에 마음이 가장 끌리나요?',
                options: [
                    { text: '세상을 바꾼 위대한 발견이나 발명 이야기', type: 'intellectual' },
                    { text: '무에서 유를 창조한 예술가나 창업가 이야기', type: 'creative' },
                    { text: '어려운 이웃을 위해 헌신한 인물 이야기', type: 'relational' },
                    { text: '혼란스러운 조직을 성공으로 이끈 리더 이야기', type: 'systematic' }
                ]
            },
            {
                category: '관심사',
                question: '휴일에 가장 하고 싶은 활동은 무엇인가요?',
                options: [
                    { text: '책을 읽거나 온라인 강의를 듣기', type: 'intellectual' },
                    { text: '새로운 취미나 창작 활동 시도하기', type: 'creative' },
                    { text: '가족, 친구들과 의미 있는 시간 보내기', type: 'relational' },
                    { text: '집안 정리나 계획 세우기', type: 'systematic' }
                ]
            },
            {
                category: '관심사',
                question: '뉴스나 미디어에서 어떤 내용에 가장 관심이 있나요?',
                options: [
                    { text: '과학 기술 발전이나 연구 성과', type: 'intellectual' },
                    { text: '문화 예술이나 혁신적인 아이디어', type: 'creative' },
                    { text: '사회 문제나 인간 이야기', type: 'relational' },
                    { text: '경제나 정책, 조직 운영', type: 'systematic' }
                ]
            },
            {
                category: '관심사',
                question: '어떤 환경에서 가장 편안함을 느끼나요?',
                options: [
                    { text: '조용한 도서관이나 연구실', type: 'intellectual' },
                    { text: '자유로운 분위기의 카페나 작업실', type: 'creative' },
                    { text: '사람들과 함께하는 따뜻한 공간', type: 'relational' },
                    { text: '깔끔하게 정리된 사무실이나 회의실', type: 'systematic' }
                ]
            },

            // 재능 영역 (5문항)
            {
                category: '재능',
                question: '주변 사람들로부터 주로 어떤 칭찬을 듣나요?',
                options: [
                    { text: '"넌 정말 똑똑해. 분석을 잘한다."', type: 'intellectual' },
                    { text: '"넌 아이디어가 정말 기발해."', type: 'creative' },
                    { text: '"넌 정말 따뜻해. 네 덕분에 힘이 나."', type: 'relational' },
                    { text: '"넌 정말 꼼꼼하고 믿음직스러워."', type: 'systematic' }
                ]
            },
            {
                category: '재능',
                question: '스스로 가장 잘한다고 생각하는 능력은 무엇인가요?',
                options: [
                    { text: '복잡한 문제를 논리적으로 해결하는 능력', type: 'intellectual' },
                    { text: '독창적인 방식으로 자신을 표현하는 능력', type: 'creative' },
                    { text: '다른 사람의 감정을 공감하고 소통하는 능력', type: 'relational' },
                    { text: '계획을 세우고 꾸준히 실행하는 능력', type: 'systematic' }
                ]
            },
            {
                category: '재능',
                question: '어려운 상황에서 당신의 첫 번째 반응은?',
                options: [
                    { text: '원인을 분석하고 해결책을 찾는다', type: 'intellectual' },
                    { text: '새로운 관점에서 창의적 해결책을 모색한다', type: 'creative' },
                    { text: '관련된 사람들과 소통하며 함께 해결한다', type: 'relational' },
                    { text: '체계적으로 단계를 나누어 차근차근 해결한다', type: 'systematic' }
                ]
            },
            {
                category: '재능',
                question: '팀 프로젝트에서 주로 어떤 역할을 맡나요?',
                options: [
                    { text: '자료 조사와 분석을 담당하는 역할', type: 'intellectual' },
                    { text: '아이디어 제안과 기획을 담당하는 역할', type: 'creative' },
                    { text: '팀원들 간의 소통과 조율을 담당하는 역할', type: 'relational' },
                    { text: '일정 관리와 진행 상황 점검을 담당하는 역할', type: 'systematic' }
                ]
            },
            {
                category: '재능',
                question: '학습할 때 가장 효과적인 방법은?',
                options: [
                    { text: '이론을 깊이 이해하고 원리를 파악하기', type: 'intellectual' },
                    { text: '직접 만들어보고 실험해보기', type: 'creative' },
                    { text: '다른 사람과 토론하고 의견 나누기', type: 'relational' },
                    { text: '단계별로 정리하고 반복 연습하기', type: 'systematic' }
                ]
            },

            // 가치관 영역 (5문항)
            {
                category: '가치관',
                question: '직업을 통해 가장 얻고 싶은 것은 무엇인가요?',
                options: [
                    { text: '지적인 성장과 진리 탐구', type: 'intellectual' },
                    { text: '자유로운 자기 표현과 창의성 발현', type: 'creative' },
                    { text: '사회에 대한 기여와 긍정적 변화', type: 'relational' },
                    { text: '안정적인 삶과 윤리적 성취', type: 'systematic' }
                ]
            },
            {
                category: '가치관',
                question: '어떤 상황에서 가장 큰 보람을 느끼나요?',
                options: [
                    { text: '오랜 연구 끝에 어려운 문제를 해결했을 때', type: 'intellectual' },
                    { text: '나의 작품이나 아이디어가 인정받았을 때', type: 'creative' },
                    { text: '나의 도움으로 누군가 어려움을 극복했을 때', type: 'relational' },
                    { text: '나의 노력으로 공동체가 더 나아졌을 때', type: 'systematic' }
                ]
            },
            {
                category: '가치관',
                question: '인생에서 가장 중요하게 생각하는 가치는?',
                options: [
                    { text: '진리와 지혜', type: 'intellectual' },
                    { text: '자유와 창의성', type: 'creative' },
                    { text: '사랑과 섬김', type: 'relational' },
                    { text: '정의와 질서', type: 'systematic' }
                ]
            },
            {
                category: '가치관',
                question: '성공한 삶이란 무엇이라고 생각하나요?',
                options: [
                    { text: '지식과 통찰력을 통해 세상을 이해하는 삶', type: 'intellectual' },
                    { text: '자신만의 독특한 방식으로 세상에 기여하는 삶', type: 'creative' },
                    { text: '많은 사람들에게 사랑받고 도움을 주는 삶', type: 'relational' },
                    { text: '원칙과 신념을 지키며 안정적으로 사는 삶', type: 'systematic' }
                ]
            },
            {
                category: '가치관',
                question: '미래에 어떤 모습으로 기억되고 싶나요?',
                options: [
                    { text: '깊은 지혜와 통찰력을 가진 사람', type: 'intellectual' },
                    { text: '창의적이고 혁신적인 아이디어를 낸 사람', type: 'creative' },
                    { text: '따뜻한 마음으로 많은 사람을 도운 사람', type: 'relational' },
                    { text: '신뢰할 수 있고 책임감 있는 사람', type: 'systematic' }
                ]
            }
        ];

        // 소명 유형 정의
        const callingTypes = {
            intellectual: {
                name: '지혜 추구형',
                description: '당신은 진리와 지혜를 추구하며, 깊이 있는 사고와 분석을 통해 세상을 이해하려는 소명을 가지고 있습니다. 연구, 교육, 분석 등의 분야에서 하나님이 주신 지적 능력을 발휘할 수 있습니다.',
                recommendations: [
                    '연구원, 교수, 분석가, 컨설턴트 등의 직업 고려',
                    '지속적인 학습과 연구를 통한 전문성 개발',
                    '복잡한 문제 해결을 통한 사회 기여',
                    '지식과 지혜를 나누는 멘토 역할'
                ],
                color: '#3B82F6'
            },
            creative: {
                name: '창조 실현형',
                description: '당신은 하나님이 주신 창의성을 통해 새로운 것을 만들어내고, 독창적인 방식으로 세상에 아름다움과 혁신을 가져다주는 소명을 가지고 있습니다.',
                recommendations: [
                    '디자이너, 예술가, 기획자, 창업가 등의 직업 고려',
                    '창의적 프로젝트와 혁신적 아이디어 개발',
                    '예술과 문화를 통한 사회적 영향력 발휘',
                    '새로운 방식의 문제 해결과 가치 창출'
                ],
                color: '#10B981'
            },
            relational: {
                name: '사랑 실천형',
                description: '당신은 사람들과의 관계를 통해 사랑을 실천하고, 다른 이들의 성장과 회복을 돕는 소명을 가지고 있습니다. 섬김과 돌봄을 통해 하나님의 사랑을 전하는 역할을 합니다.',
                recommendations: [
                    '상담사, 교사, 의료진, 사회복지사 등의 직업 고려',
                    '사람들의 성장과 치유를 돕는 활동',
                    '공동체 형성과 관계 회복 사역',
                    '소외된 이웃을 위한 봉사와 섬김'
                ],
                color: '#F59E0B'
            },
            systematic: {
                name: '질서 구축형',
                description: '당신은 하나님이 주신 질서와 체계를 통해 안정적이고 공정한 사회를 만들어가는 소명을 가지고 있습니다. 원칙과 신념을 바탕으로 신뢰할 수 있는 시스템을 구축합니다.',
                recommendations: [
                    '관리자, 공무원, 법무진, 회계사 등의 직업 고려',
                    '조직과 시스템의 효율성 개선',
                    '공정하고 투명한 제도 구축',
                    '안정적인 기반을 통한 지속가능한 발전'
                ],
                color: '#8B5CF6'
            }
        };

        // 상태 관리
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let scores = { intellectual: 0, creative: 0, relational: 0, systematic: 0 };

        // DOM 요소들
        const introScreen = document.getElementById('intro-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const shareBtn = document.getElementById('share-btn');
        const saveResultBtn = document.getElementById('save-result-btn');

        // 이벤트 리스너
        startBtn.addEventListener('click', startQuiz);
        prevBtn.addEventListener('click', previousQuestion);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', restartQuiz);
        shareBtn.addEventListener('click', shareResult);
        saveResultBtn.addEventListener('click', saveResult);

        function startQuiz() {
            introScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            const question = quizData[currentQuestionIndex];
            const questionCard = document.getElementById('question-card');
            
            // 애니메이션 효과
            questionCard.classList.remove('fade-in');
            setTimeout(() => questionCard.classList.add('fade-in'), 10);

            // 진행률 업데이트
            const progress = ((currentQuestionIndex + 1) / quizData.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${currentQuestionIndex + 1} / ${quizData.length}`;

            // 질문 내용 업데이트
            document.getElementById('question-category').textContent = question.category;
            document.getElementById('question-text').textContent = question.question;

            // 옵션들 렌더링
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = question.options.map((option, index) => `
                <div class="option-card p-4 border-2 border-gray-200 rounded-xl cursor-pointer ${userAnswers[currentQuestionIndex] === index ? 'selected' : ''}" 
                     onclick="selectOption(${index})">
                    <div class="flex items-center">
                        <div class="w-6 h-6 border-2 border-gray-300 rounded-full mr-4 flex items-center justify-center ${userAnswers[currentQuestionIndex] === index ? 'border-amber-500 bg-amber-500' : ''}">
                            ${userAnswers[currentQuestionIndex] === index ? '<div class="w-2 h-2 bg-white rounded-full"></div>' : ''}
                        </div>
                        <span class="text-gray-700 font-medium">${option.text}</span>
                    </div>
                </div>
            `).join('');

            // 버튼 상태 업데이트
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.disabled = userAnswers[currentQuestionIndex] === undefined;
            nextBtn.textContent = currentQuestionIndex === quizData.length - 1 ? '결과 보기' : '다음';
        }

        function selectOption(optionIndex) {
            userAnswers[currentQuestionIndex] = optionIndex;
            renderQuestion();
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] !== undefined) {
                if (currentQuestionIndex < quizData.length - 1) {
                    currentQuestionIndex++;
                    renderQuestion();
                } else {
                    showResult();
                }
            }
        }

        function calculateScores() {
            scores = { intellectual: 0, creative: 0, relational: 0, systematic: 0 };
            
            userAnswers.forEach((answerIndex, questionIndex) => {
                const question = quizData[questionIndex];
                const selectedOption = question.options[answerIndex];
                scores[selectedOption.type]++;
            });
        }

        function showResult() {
            calculateScores();
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');

            // 가장 높은 점수의 유형 찾기
            const maxScore = Math.max(...Object.values(scores));
            const dominantType = Object.keys(scores).find(type => scores[type] === maxScore);
            const callingType = callingTypes[dominantType];

            // 결과 해석 표시
            document.getElementById('result-description').textContent = callingType.description;
            
            const recommendationsContainer = document.getElementById('result-recommendations');
            recommendationsContainer.innerHTML = callingType.recommendations.map(rec => `
                <div class="flex items-start">
                    <div class="w-2 h-2 bg-amber-500 rounded-full mt-2 mr-3 flex-shrink-0"></div>
                    <span class="text-gray-700">${rec}</span>
                </div>
            `).join('');

            // 차트 생성
            const ctx = document.getElementById('result-chart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['지혜 추구형', '창조 실현형', '사랑 실천형', '질서 구축형'],
                    datasets: [{
                        label: '나의 소명 유형',
                        data: [scores.intellectual, scores.creative, scores.relational, scores.systematic],
                        backgroundColor: 'rgba(245, 158, 11, 0.2)',
                        borderColor: 'rgba(245, 158, 11, 1)',
                        pointBackgroundColor: 'rgba(245, 158, 11, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(245, 158, 11, 1)',
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: {
                                display: true,
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            suggestedMin: 0,
                            suggestedMax: 5,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            pointLabels: {
                                font: {
                                    size: 14,
                                    family: "'Noto Sans KR', sans-serif"
                                },
                                color: '#374151'
                            },
                            ticks: {
                                backdropColor: 'rgba(255, 255, 255, 0)',
                                color: 'rgba(0,0,0,0.5)',
                                stepSize: 1
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            userAnswers = [];
            scores = { intellectual: 0, creative: 0, relational: 0, systematic: 0 };
            
            resultScreen.classList.add('hidden');
            introScreen.classList.remove('hidden');
        }

        function shareResult() {
            const maxScore = Math.max(...Object.values(scores));
            const dominantType = Object.keys(scores).find(type => scores[type] === maxScore);
            const callingType = callingTypes[dominantType];
            
            const shareText = `나의 소명 유형은 "${callingType.name}"입니다! 소명 발견 자가진단을 통해 하나님이 주신 나만의 소명을 찾아보세요.`;
            const shareUrl = window.location.href;
            
            if (navigator.share) {
                navigator.share({
                    title: '소명 발견 자가진단 결과',
                    text: shareText,
                    url: shareUrl
                });
            } else {
                // 클립보드에 복사
                navigator.clipboard.writeText(`${shareText} ${shareUrl}`).then(() => {
                    alert('결과가 클립보드에 복사되었습니다!');
                });
            }
        }

        async function saveResult() {
            const consentCheckbox = document.getElementById('consent-checkbox');
            if (!consentCheckbox.checked) {
                alert('결과 저장을 위해서는 동의가 필요합니다.');
                return;
            }

            const age = document.getElementById('age-select').value;
            const jobStatus = document.getElementById('job-status-select').value;
            
            const maxScore = Math.max(...Object.values(scores));
            const dominantType = Object.keys(scores).find(type => scores[type] === maxScore);
            
            const resultData = {
                timestamp: new Date().toISOString(),
                scores: scores,
                dominantType: dominantType,
                age: age,
                jobStatus: jobStatus,
                userAgent: navigator.userAgent
            };

            try {
                // GitHub Issues API를 통해 결과 저장
                const response = await fetch('https://api.github.com/repos/YOUR_USERNAME/calling-assessment-data/issues', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'token YOUR_GITHUB_TOKEN'
                    },
                    body: JSON.stringify({
                        title: `Assessment Result - ${new Date().toISOString()}`,
                        body: `\`\`\`json\n${JSON.stringify(resultData, null, 2)}\n\`\`\``,
                        labels: ['assessment-result']
                    })
                });

                if (response.ok) {
                    alert('결과가 성공적으로 저장되었습니다. 감사합니다!');
                    saveResultBtn.disabled = true;
                    saveResultBtn.textContent = '저장 완료';
                } else {
                    throw new Error('저장 실패');
                }
            } catch (error) {
                console.error('Error saving result:', error);
                alert('결과 저장 중 오류가 발생했습니다. 나중에 다시 시도해주세요.');
            }
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // 초기 상태 설정
            quizScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
        });
    </script>
</body>
</html>

